<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		[v-cloak]{
			display: none;
		}
		*{
			margin: 0;
			padding: 0;
			user-select: none;
		}
		#app{
			width: 380px;
			min-height: 360px;
			margin: 50px auto;
		}
		.dhe{
			margin-top: 30px;
		}
		.dhe>span{
			width: 30px;
			height: 30px;
			display: inline-block;
			float: left;
			border: solid 1px;
			cursor: pointer;
		}
		.dhe>span.light{
			background: #03a9f4;
			transition: all 1s;
		}
	</style>
</head>
<body>
	<div id="app" v-cloak>
		<h3 style="line-height: 34px;">点灯游戏</h3>
		<input type="text" v-model.number="sideLength" @input="computeBlocks" name="">
		<div class="dhe" :style="{width:sideLength*32+'px',height:sideLength*32+'px'}">
			<span :class="{light:item}" v-for="(item,index) in arr1" @click = "diandeng(index)"></span>
		</div>
	</div>
</body>
 <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
 <script type="text/javascript">
 	var vm = new Vue({
 		el:'#app',
 		data(){
 			return { 
 				sideLength:5,
 				arr1:null
 			}
 		},
 		methods:{
 			computeBlocks(){
 				var l = this.sideLength * this.sideLength;
 				var arr = [];
 				for(var i = 0;i<l;i++){
 					arr[i] = '';
 				}
 				this.arr1 = arr;
 			},
 			diandeng(i){
 				var MAP = this.getMap(i);
	 			MAP.forEach(element =>{
	 				if(element>=0 && element < this.arr1.length){
	 					if(this.arr1[element]){
	 						this.arr1.splice(element,1,'')
	 					} else{
	 						this.arr1.splice(element,1,'1')
	 					}
	 				}
	 			});
 			},
 			getMap(center){
 				var wu = [];
 				// 获取上下左右的坐标
 				wu[0] = center - this.sideLength;
 				wu[1] = center + this.sideLength;
 				wu[2] = center%this.sideLength == 0?'-1':center-1;
 				wu[3] = (center + 1) % this.sideLength == 0?'-1':center + 1;
 				wu[4] = center;
 				return wu;
 			}
 		},
 	})
 </script>
</html>