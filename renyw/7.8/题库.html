<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="../vue.js"></script>
    <style>
        .box {
            width: 300px;
            height: 200px;
            background: pink;
            border: 1px solid #ccc;
            opacity: 0;
        }

        .cc-enter {
            opacity: 0;
            transform: translateX(0);
        }

        .cc-enter-active {
            transition: 2s;
        }

        .cc-enter-to {
            opacity: 1;
            transform: translateX(300px);
        }

        .cc-leave {
            opacity: 0;
            transform: rotate(45deg);
        }

        .cc-leave-active {
            transition: 2s;
        }

        .cc-leave-to {
            opacity: 1;
            transform: rotate(90deg);
        }

        .group-enter {
            transform: scale(1);
        }

        .group-enter-active {
            transition: 2s;
        }

        .group-enter-to {
            transform: scale(2);
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- 1.过滤器大写 -->
        <div>{{num | Upper}}</div>
        <!-- 2.自定义全局指令 -->
        <div v-color:red.self="isshow">自定义全局指令</div>
        <!-- 6.动画属性 -->
        <button @click="isshow=!isshow">点我呀</button>
        <!-- <transition name="cc" duration="5000">
            <div class="box" v-show="isshow"></div>
        </transition> -->
        <transition-group name="group" mode="out-in">
            <div key="1" style="width:100px;height:100px;background:red;" v-show="isshow"></div>
            <div key="2" style="width:100px;height:100px;background:yellow;" v-show="isshow"></div>
        </transition-group>

        <!-- 7.prop验证 -->
        <test :date="'nihao'" :info='true'></test>
        <test :date="'nihao'" :info='true'></test>

        <!-- 8.插槽作用域 -->

        <yw-area>
            <template v-slot:container="json" v-if="isshow">
                {{json}}
            </template>
        </yw-area>
        <!-- 10.激活停用的触发条件 -->
        <keep-alive>
            <yw-area v-if="isshow"></yw-area>
        </keep-alive>
    </div>
    <!-- 1、自定义一个把‘1-9’数字转换成大写‘一到九’的全局过滤器？（10分）
            
    2、自定义一个全局指令，并打印出指令的参数描述？
    
    6、写出vue里定义在过渡、动画组件里特有10个属性？（10分）
    7、列出组件prop的四种验证方式并描述？（10分）
    8、描述<template v-slot:aaa=”bbb”>ccc</template>的作用？
    10、描述Activated/deactivated两个生命周期的触发条件？（10分）
    v-xxx:xxx="xxx"  => binding -->
    <script>
        // 1
        Vue.filter('Upper', function (val) {
            var arr = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九']
            var str = '';
            for (var i = 0; i < val.length; i++) {
                if(val.length){
                    str += arr[Number(val.charAt(i))]
                }else{
                    return false;
                }
            }
            return str;
        })

        // 2
        Vue.directive('color', {
            bind(el, binding, vnode, oldVnode) { //绑定上就触发
                console.log(el) //绑定的dom元素
                console.log(binding) //绑定指令的相关信息
                console.log(vnode) //更改之后的数据
                console.log(oldVnode) //更改之前的数据
            },
            inserted(el, binding) { //插入到真正的dom中触发
                console.log(binding.name) //指令的名字
                console.log(binding.arg) //指令的参数 :后面的
                console.log(binding.expression) //表达式 =""
                console.log(binding.value) //表达式的值
                console.log(binding.modifiers) //修饰符  是一个对象
            },
            update() {
                console.log('update') //组件中只要有更新就触发
            },
            componentUpdated() {
                console.log('componentUpdated') //更新全部完成后触发
            }
        })

        // 7
        Vue.component('test', {
            template: '<h1>{{fn}}</h1>',
            props: {
                date: [String, Number],
                info: {
                    type: Boolean,
                    required: true,
                    validator: function (val) {
                        if (val == true) {
                            return true;
                        } else {
                            return false;
                        }
                    }
                },
                fn: {
                    default: function () {
                        return [1, 2, 3]
                    }
                }

            }
        })

        // 8
        Vue.component('yw-area', {
            template: '<h3><slot name="container" :abc="msg" :fn="fn"></slot></h3>',
            // prop: [this.msg, this.fn],
            data() {
                return {
                    msg: '子组件',
                    fn: {
                        x: 1,
                        y: 2
                    }
                }
            },
             // 10
            created(){
                console.log('created');
            },
            activated() {
                console.log('激活');
            },
            deactivated() {
                console.log('停用');
            }
        })

       
        var vm = new Vue({
            el: '#app',
            data() {
                return {
                    num: '495',
                    isshow: true,
                    msg: 'hello'
                }
            }
        })
    </script>
</body>

</html>