<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        [v-cloak] {
            display: none;
        }

        #box {
            height: 34px;
            line-height: 34px;
            padding: 30px;
            font-size: 18px;
        }

        #box * {
            float: left;
        }

        span {
            color: #ccc;
            cursor: pointer;
            user-select: none;
        }
        .pagebox{
            overflow: hidden;
            
        }
        .oUl {
            width: 800%;
            height: 34px;
        }
        .oUl li {
            width: 60px;
            height: 34px;
            line-height: 34px;
            text-align: center;
            cursor: pointer;
        }

        .active {
            color: pink;
        }
    </style>
</head>

<body>
    <div id="box" v-cloak>
        <span @click="first">首页</span>
        <span class="prev" @click="prev">&lt;</span>
        <div class="pagebox">
            <ul class="oUl">
                <li v-for="(page,$index) in trueShowPage" @click="self(firstPage+$index)" :class="{active:cpage==firstPage+$index}">{{firstPage+$index}}</li>
            </ul>
        </div>
        <span class="next" @click="next">&gt;</span>
        <span @click="last">尾页</span>
    </div>
</body>
<script src="vue.js"></script>
<script>
    var vm = new Vue({
        el: '#box',
        data: {
            cpage: 1, // 当前的页码
            showPage: 9, //一共展示几页
            totalpage: 20, //总共有多少页
        },
        computed:{
            firstPage(){//第一个展示第几页
                if(this.cpage<=Math.floor(this.trueShowPage/2)){
                    return 1
                }else if(this.cpage>=this.totalpage-Math.floor(this.trueShowPage/2)){
                    return this.totalpage-this.trueShowPage+1
                }
                return this.cpage - Math.floor(this.trueShowPage/2)
            },
            trueShowPage(){
                if(this.showPage<=this.totalpage){
                    return this.showPage
                }else{
                    return this.totalpage
                }
            }
        },
        methods:{
            first(){
                this.cpage = 1
            },
            last(){
                this.cpage = this.totalpage
            },
            prev(){
                if(this.cpage<=1) return;
                this.cpage--;
            },
            next(){
                if(this.cpage>=this.totalpage) return;
                this.cpage++;
            },
            self(page){
                this.cpage = page;
            }
        }
    })
</script>

</html>