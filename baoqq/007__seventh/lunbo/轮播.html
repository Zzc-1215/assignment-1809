<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vue轮播图</title>
    <style>
        .image {
            width: 90%;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }
        .image:hover .image-control.left {
            transform: translateX(100%)
        }
        .image:hover .image-control.right {
            transform: translateX(-100%)
        }
        .image-inner {
            position: relative;
            overflow: hidden;
            width: 100%;
            font-size: 0
        }
        .image-inner>.item {
            position: relative;
            transition: all .5s ease-in-out
        }
        .image-inner>.item>img,
        .image-inner>.item>a>img {
            width: 100%;
            height: 500px;
        }
        .image-indicators {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 15;
            list-style: none;
            text-align: right
        }
        .image-indicators li {
            display: inline-block;
            width: 20px;
            height: 20px;
            line-height: 20px;
            margin: 0 5px;
            font-size: 12px;
            color: #fff;
            background-color: #000 \9;
            background-color: transparent;
            border: 1px solid rgba(0, 0, 0, .6);
            cursor: pointer;
            text-align: center;
            transition: all .5s ease-in-out;
            user-select: none
        }
        .image-indicators li.active {
            background-color: rgba(0, 0, 0, .6)
        }
        .image-control {
            position: absolute;
            top: 50%;
            width: 80px;
            height: 160px;
            line-height: 160px;
            margin-top: -40px;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0, 0, 0, .6);
            background: rgba(0, 0, 0, .4);
            cursor: pointer;
            text-align: center;
            transition: all .5s ease-in-out
        }
        .image-control .iconfont {
            font-size: 50px
        }
        .image-control.left {
            left: -80px
        }
        .image-control.right {
            right: -80px
        }
        .image-control:hover,
        .image-control:focus {
            outline: 0;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0, 0, 0, .8);
            text-decoration: none;
            background: rgba(0, 0, 0, .6)
        }
        .image-animate-enter {
            opacity: 0;
            transform: scale(.8, .8)
        }
        .image-animate-leave {
            position: absolute !important;
            top: 0;
            width: 100%
        }
        .image-animate-leave-to-left,
        .image-animate-leave-to-right {
            position: absolute !important;
            top: 0;
            width: 100%;
            z-index: 10
        }
        .image-animate-leave-to-left {
            transform: translateX(-100%) scale(.8, .8)
        }
        .image-animate-leave-to-right {
            transform: translateX(100%) scale(.8, .8)
        }
    </style>
</head>
<body>
    <div id="app" class="image" @mouseover="isImages=true" @mouseout="isImages=false">
        <div class="image-inner">
            <transition name="image-animates" enter-class="image-animate-enter" :leave-active-class="leaveToClass">
                <template>
                    <div class="item" :key="active">
                        <a :href="image[active].url" :title="image[active].title">
                            <img :src="image[active].image" alt="">
                        </a>
                    </div>
                </template>
            </transition>
        </div>
        <!-- 遍历五个li下面的12345索引 -->
        <!-- <ol class="image-indicators">
            <li @click="move(active>index?-1:1,index)" v-for="(item,index) in image" :key="index" :class="index===active?'item active':'item'">
                {{index+1}}
            </li>
        </ol> -->
        <!-- 左右两个点击的按钮 -->
        <a @click="move(-1)" class="left image-control">
            <i class="iconfont icon-zuo"> < </i>
        </a>
        <a @click="move(1)" class="right image-control">
            <i class="iconfont icon-you"> > </i>
        </a>
        <a></a>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var images = [
            {
                // "url": '#',
                "image": "img/1.jpg"
            },
            {
                // "url": '#',
                "image": "img/2.jpg"
            },
            {
                // "url": '#',
                "image": "img/3.jpg"
            },
            {
                // "url": '#',
                "image": "img/4.jpg"
            }
        ]
        new Vue({
            el: '#app',
            data() {
                return {
                    active: -1,//移动几次，默认为-1
                    image: images,  //所有的图片
                    times: null,    //  定时器
                    isImages: false,    //  定义开关，在mouseover和mouseout的时候去使用
                    leaveToClass: "",   //  
                    interval: 3000      //
                }
            },
            methods: {
                imgAnimate () {
                    if (!this.isImages) {
                        this.move(1);
                    }
                    setTimeout(this.imgAnimate.bind(this), this.interval)
                },
                move (direction, index) {
                    var num = this.active;
                    num = index !== undefined ? index : num + direction;
                    num = num >= this.image.length ? 0 : num < 0 ? this.image.length - 1 : num;
                    this.active = num;
                    this.leaveToClass = direction > 0 ? "image-animate-leave-to-left" : "image-animate-leave-to-right"//三元运算符，判断向左还是向右移动
                }
            },
            created () {
                var images = [];
                for (var i = 0; i < this.image.length; i++) {
                    images[i] = new Image();
                    images[i].src = this.image[i].image;
                }
                if (this.image === undefined || Object.prototype.toString.call(this.image) !== '[object Array]') {
                    console.error("xxxxx");
                } else if (this.image.length < 1) {
                    console.warn("right");
                } else {
                    this.imgAnimate();
                }
            },
            destroyed () {
                clearTimeout(this.times)
            }
        })

    </script>

</body>

</html>