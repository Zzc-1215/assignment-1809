<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.lamp{
				/*width: 210px;
				height: 208px;*/
				margin: 150px auto;
				/*border: solid 1px;*/
			}
			.lamp>div{
				width: 40px;
				height: 40px;
				border: solid 1px;
				float: left;
			}
			.lamp>div.active{
				/*background-color: cornflowerblue;*/
			}
			.lamp>div span{
				width: 100%;
				height: 100%;
				display: none;
				background-color: blueviolet;
				transform: scale(1.2);
				transition: all 1s;
			}
			.lamp>div i{
				width: 100%;
				height: 100%;
				display: inline-block;
				background-color: #ccc;
			}
			.lamp>div.active span{
				transform: scale(1);
				display: block;
			}
			.lamp>div.active i{
				display: none;
			}
		</style>
	</head>
	<body>
		<div id="lamp">
			<input type="text" v-model.number="choice" @change="num"/>
			<div class="lamp" :style="{width:choice*42+'px'}">
				<div :class="{active:cont}" v-for="(cont,index) in nuwarr" @click="open(index)">
					<span></span>
					<i></i>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="vue.js"></script>
		<script type="text/javascript">
			var mvvm=new Vue({
				el:'#lamp',
				data(){
					return{
						choice:5,
						nuwarr:null
					}
				},
				methods:{
					num(){
						var newnum=this.choice*this.choice
						var arr=[]
						for (var i=0; i<newnum; i++) {
							arr[i]=''	
						}
						this.nuwarr=arr
					},
					open(i){
						var direction=this.getsql(i)
						console.log(direction)
						direction.forEach((obj,ind)=>{
//							console.log(obj,ind)
							if (obj >= 0 && obj < this.nuwarr.length) {
								if (this.nuwarr[obj]) {
									this.nuwarr.splice(obj,1,'')
								} else{
									this.nuwarr.splice(obj,1,'1')
								}
							}
						})
					},
					getsql(index){
						var snum=[]
						snum[0]=index-this.choice
						snum[1]=index+this.choice
						snum[2]=index%this.choice==0?'-1':index-1
						snum[3]=(index+1)%this.choice==0?'-1':index+1
						snum[4]=index
						console.log(snum,index)
						return snum
					}
				}
			})
		</script>
	</body>
</html>
