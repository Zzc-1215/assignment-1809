<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>æ°´</title>
	
	<style>
	*{margin:0;padding:0;}
	ul{list-style: none;}
	a{text-decoration: none;}
	img{vertical-align: top;}
	input,button{border: none;outline: none;}
	.clearfix:after,.clearfix:before{content: "";display: table;}
	.clearfix:after{clear: both;}
	.box{
		width: 700px;
		margin: 80px auto;
	}
	.w_box{
		float: left;
	}
	.water{
		width: 150px;
		height: 200px;
		border: 1px solid #333;
		border-top: 0;
		margin-left: 40px;
		border-radius: 20px 0 10px 10px;
		transition: .5s;
		position: relative; 
		float: left;
	}
	.water.lift{
		transform:rotate(30deg);
	}
	.blue{
		width: 100%;
		/*height: 100%;*/
		background-color: #5fa8e6;
		border-radius: 20px 0 10px 10px;
		transition: all .5s;
		position: absolute;
		bottom:0;
		left: 0;
	}
	.w_box:nth-of-type(1) .blue{
		height: 100%;
	}
	.w_box:nth-of-type(2) .blue{
		height: 70%;
	}
	.w_box:nth-of-type(3) .blue{
		height: 30%;
	}
	span{
		margin-left: 10px;
		display: block;
	}
</style>
</head>
<body>
	<div class="box clearfix">
		<div class="w_box">
			<div class="water" :class="{lift:key==lift}" v-for="(cup,key) in cups" @click='add(key)'>
				<div class="blue" :style="{height:cup.c/cup.full*100+'%'}">
					<span>{{cup.c}}L</span>
				</div>
			</div>
			
		</div>
	</div>
	<script src='https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js'></script>
	<script>
		var vm=new Vue({
			el:'.box',
			data(){
                return {
                    lift: null,
                    cups:{
                        b:{
                            full:10,
                            c:10,
                        },
                        m:{
                            full:7,
                            c:0,
                        },
                        s:{
                            full:3,
                            c:0,
                        }
                    }
                }
            },
			methods:{
				add(cup){
					if(this.lift){
						if (cup==this.lift) {
							this.lift=null
							return
						}
						 var drl = this.cups[cup].full-this.cups[cup].c>this.cups[this.lift].c?this.cups[this.lift].c:this.cups[cup].full-this.cups[cup].c;
						 var syl=this.cups[this.lift].c-drl
	                        this.cups[cup].c+=drl
	                        this.cups[this.lift].c=syl
	                        this.lift=null
					}
					else{
						this.lift=cup
					}
				}
			}
		})
	</script>
</body>
</html>